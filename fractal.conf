/*
Been having some issues with attach so trying using notify and sleep
See: https://forums.freebsd.org/threads/solved-stuck-with-devd.44031/

There is an issue with substitutions in devd variables.
With an options variable to hold the program and filepath it becomes like this:
$'/usr/local/sbin/fxload -t fx2lop' -I $'/usr/local/...'
Which isn't quite right and you get a "Not found" error, hence why the paths are entered  here manually.
*/

notify 0 {
	match "system" "USB";
	match "type" "ATTACH";
	match "vendor" "0x2466";
	match "product" "0x0003";
	action "logger AXE-FX II detected";
	action "sleep 2 && /usr/local/sbin/fxload -t fx2lp -I /usr/local/share/fxload/axefx2load.hex -D vid=$vendor,pid=$product";
};
